
# 第5章 开始 Unity Shader 学习之旅

## 5.1 本书使用的软件和环境
本书使用的Unity版本是Unity 5.2.1免费版。

本书工程编写的系统环境是Mac OS X 10.9.5。如果读者使用的是其他系统，绝大部分情况也不会有任何问题。但有时会由于图像编程接口的种类和版本不同而有一些差别，这是因为Mac使用的图像编程接口是基于OpenGL的，而其他平台如Windows，可能使用的是DirectX。例如，在OpenGL中，渲染纹理（Render Texture）的(0, 0)点是在左下角，而在DirectX中，(0, 0)点是在左上角。


## 5.2 一个最简单的顶点/片元着色器

我们在 3.3 节已经看到了 Unity Shader 的基本结构。它包含了Shader、Properties、SubShader、Fallback 等语义块。顶点/片元着色器的结构与之大体类似，它的结构如下:

```
Shader "MyShaderName" {

    Properties {
        // 属性
    }

    SubShader {
        // 针对显卡 A 的 SubShader
        Pass {
            // 设置渲染状态和标签

            // 开始 Cg 代码片段
            CGPROGRAM
            // 该代码片段的编译指令，例如：
            #pragma vertex vert
            #pragma fragment frag
            
            // Cg 代码写在这里

            ENDCG

            // 其他设置

        }
        //其他需要的 Pass
    }
    SubShader {
        // 针对显卡 B 的 SubShader
    }

    // 上述 SubShader 都失败后用于回调的 Unity Shader
    Fallback "VertexLit"
}
```

