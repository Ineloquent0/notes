
# 总览
![线性代数复习总览](https://raw.githubusercontent.com/Ineloquent0/notes/main/images/20240728133508.jpg)


*************************************************************


# 1. 向量
* 向量表示方法： $\vec{a}$ 或者加粗 **a** 
* 或者用起点和终点： $\overrightarrow {AB}$ = B - A
* 两个属性: 方向和长度
* 不关心它的开始位置

向量的长度表示方法：|| $\vec {a}$ || = $\sqrt{a_x^2+a_y^2}$
## 1.1 单位向量
* 向量长度为 1
* 求向量的单位向量（归一化）： $\hat{a}$ = $\vec {a}$ / || $\vec {a}$ ||
* 用于表示方向


## 1.2 向量的运算
加法： $\vec{a} + \vec{b}$ = $(a_x+b_x, a_y+b_y)$
减法： $\vec{a} - \vec{b}$ = $(a_x-b_x, a_y-b_y)$
* 几何：平行四边形定律和三角形定律
* 代数：简单的把两个坐标加起来

![向量加法](https://raw.githubusercontent.com/Ineloquent0/notes/main/images/20240728112602.jpg)

向量与标量的乘除法：
乘法： $k \vec{a}$ = $(k a_x, k a_y)$
除法： $\vec{a} / k$ = $(a_x/k, a_y/k)，k \neq 0$

## 1.3 笛卡尔坐标系
![笛卡尔坐标系](https://raw.githubusercontent.com/Ineloquent0/notes/main/images/20240728113929.png)

可以认为向量是从原点开始

* $A$ = $\begin{bmatrix}x\\y\\\end{bmatrix}$ 
* $A^T$ = (x, y)
* $||A||$ = $\sqrt{x^2+y^2}$


## 1.4 点乘

![点乘](https://raw.githubusercontent.com/Ineloquent0/notes/main/images/20240728115230.jpg)

点乘： $\vec{a} \cdot \vec{b}$ = $\begin{matrix}a_1b_1 + a_2b_2 + \cdots + a_nb_n\end{matrix}$
* $\vec{a} \cdot \vec{b}$ = $||a||||b|\cos\theta$ 
* $\cos\theta = \frac{\vec{a} \cdot \vec{b}}{||a|| ||b||}$
* 单位向量： $\cos\theta = \hat{a} \cdot \hat{b}$

点乘性质：
* 交换律： $\vec{a} \cdot \vec{b} = \vec{b} \cdot \vec{a}$
* 结合律： $(k\vec{a}) \cdot \vec{b} = \vec{a} \cdot (k\vec{b}) = k(\vec{a} \cdot \vec{b})$
* 分配律： $\vec{a} \cdot (\vec{b} + \vec{c}) = \vec{a} \cdot \vec{b} + \vec{a} \cdot \vec{c}$

### 笛卡尔坐标系中的点乘：
* 2D： $\vec{a} \cdot \vec{b} = \begin{bmatrix}x_a\\y_a\\\end{bmatrix} \cdot \begin{bmatrix}x_b\\y_b\\\end{bmatrix} = x_a x_b + y_a y_b$
* 3D： $\vec{a} \cdot \vec{b} = \begin{bmatrix}x_a\\y_a\\z_a\\\end{bmatrix} \cdot \begin{bmatrix}x_b\\y_b\\z_b\\\end{bmatrix} = x_a x_b + y_a y_b + z_a z_b$

### 点乘在图形学中的应用
![点乘在图形学中的应用](https://raw.githubusercontent.com/Ineloquent0/notes/main/images/20240728145759.jpg)

* 查找两个向量之间的夹角
* 求一个向量在另一个向量上的投影
   * $\vec{b}_\perp$ ： $\vec{b}$ 在 $\vec{a}$ 上的投影向量
   * $\vec{b}_\perp$ 必须是沿着 $\vec{a}$ 的方向
      * $\vec{b}_\perp = k \hat{a}$ 
   * $k$ 是 $\vec{b}$ 在 $\vec{a}$ 上的投影长度
      * $k = ||\vec{b}_\perp|| = ||\vec{b}|| \cos\theta$
* 计算两个向量有多么接近
* 确定前/后关系
   * 两个向量点乘结果 > 0 时则同向， < 0 时则反向， = 0 时则垂直
   * 点乘结果为 1 方向完全相同，为 -1 方向完全相反，为 0 垂直

![点乘前后关系](https://raw.githubusercontent.com/Ineloquent0/notes/main/images/20240728145917.jpg)

## 1.5 叉乘
![叉乘](https://raw.githubusercontent.com/Ineloquent0/notes/main/images/20240728150207.jpg)
长度： $||\vec{a} \times \vec{b}|| = ||\vec{a}|| ||\vec{b}|| \sin\phi$
方向：右手定则：四指的方向由 $\vec{a}$ 指向 $\vec{b}$ ，大拇指的方向即为叉乘后所得向量的方向

* 叉乘与两个初始向量正交
* 通过右手定则判断叉乘结果的方向
* 用于构建坐标系

叉乘性质：
* 仅满足结合、分配律，不满足交换律
* 满足反交换律： $\vec{a} \times \vec{b} = -\vec{b} \times \vec{a}$
* $(\vec{a} \times \vec{b}) \times \vec{c} \neq \vec{a} \times (\vec{b} \times \vec{c})$

![叉乘性质](https://raw.githubusercontent.com/Ineloquent0/notes/main/images/20240728151501.jpg)

### 笛卡尔坐标系中的叉乘：
* 2D： $\vec{a} \times \vec{b} = \begin{bmatrix}x_a\\y_a\\\end{bmatrix} \times \begin{bmatrix}x_b\\y_b\\\end{bmatrix} = x_a y_b - x_b y_a$
* 3D： 
   * $\vec{a} \times \vec{b} = \begin{bmatrix}x_a\\y_a\\z_a\\\end{bmatrix} \times \begin{bmatrix}x_b\\y_b\\z_b\\\end{bmatrix} = \begin{bmatrix}y_a z_b - z_a y_b\\z_a x_b - x_a z_b\\x_a y_b - y_a x_b\\\end{bmatrix}$
   * $\vec{a} \times \vec{b} = A^* b = \begin{bmatrix}0&-z_a&y_a\\z_a&0&-x_a\\-y_a&x_a&0\\\end{bmatrix} \begin{bmatrix}x_b\\y_b\\z_b\\\end{bmatrix}$

### 叉乘在图形学中的应用
![叉乘在图形学中的应用](https://raw.githubusercontent.com/Ineloquent0/notes/main/images/20240728152905.jpg)

* 判定左右关系： $\vec{a} \times \vec{b} > 0$ 时， $\vec{a}$ 在 $\vec{b}$ 右边， < 0 时 $\vec{a}$ 在 $\vec{b}$ 左边
* 判断内外关系：
   * $\overrightarrow{AB} \times \overrightarrow{AP} ，\overrightarrow{BC} \times \overrightarrow{BP} , \overrightarrow{CA} \times \overrightarrow{CP}$ 叉乘结果均为正，则点P在三角形内部
   * 三次叉乘均为正或均为负则点P在三角形内部
   * 叉乘结果为0，则点P在三角形边上，既可以判断为内部也可以判断为外部
* 叉乘可以定义一些相互垂直的轴，这些轴会形成一个坐标系：
   * $||\vec{u} || = ||\vec{v} || = ||\vec{w} || = 1 $ 
   * $\vec{u} \cdot \vec{v} = \vec{v} \cdot \vec{w} = \vec{w} \cdot \vec{u} = 0$ 
   * $\vec{w} = \vec{u} \times \vec{v}$ (右手系)
   上式中定义了u、v、w三个单位向量，且相互点乘为0（即互相垂直），$\vec{w}$ 即可通过 $\vec{u}$ 和 $\vec{v}$ 叉乘得到(右手系)。
   $\vec{p} = (\vec{p} \cdot \vec{u}) \vec{u} + (\vec{p} \cdot \vec{v}) \vec{v} + (\vec{p} \cdot \vec{w}) \vec{w}$ 
   这样定义的好处是可以把任意一个向量分解到三个轴上。



<<<<<<< HEAD
***************************************************



# 2. 矩阵
* 矩阵就是一个数字数组（m x n = m 行 n 列）
* 矩阵乘一个标量：就是把矩阵里每一个数都乘这个数就可以了

## 2.1 矩阵乘法

矩阵A中的列数必须等于矩阵B中的行数
（M x N） * (N x P) = (M x P)
（M行N列的矩阵） * （N行P列的矩阵） = （M行P列的矩阵）

例：
$$
\begin{bmatrix}
1 & 3 \\
5 & 2 \\
0 & 4 \\
\end{bmatrix}
\begin{bmatrix}
3 & 6 & 9 & 4 \\
2 & 7 & 8 & 3 \\
\end{bmatrix} = 
\begin{bmatrix}
9 & 27 & 33 & 13 \\
19 & 44 & 61 & 26 \\
8 & 28 & 32 & 12 \\
\end{bmatrix}
$$
结果中 第二行第三列的结果 = 第一个矩阵的第二行 点乘 第二个矩阵的第三列 即：
$(5 * 9) + (2 * 8) = 61$

矩阵与向量的乘法：
* 可以将向量视为 1 列的矩阵（m x 1）

### 矩阵乘法的性质：
* 矩阵乘法满足结合律和分配律，不满足交换律
   * $(AB)C = A(BC)$
   * $A(B+C) = AB + AC$

## 2.2 矩阵的转置
* 矩阵的转置就是把矩阵的行列互换
* 记作 $A^T$
$$
\begin{bmatrix}
1 & 2 \\
3 & 4 \\
5 & 6 \\
\end{bmatrix}^T = 
\begin{bmatrix}
1 & 3 & 5 \\
2 & 4 & 6 \\
\end{bmatrix}
$$

属性：$(AB)^T = B^TA^T$

## 2.3 单位矩阵
* 单位矩阵是一个 m x m 矩阵，对角线上全为 1，其余元素全为 0
* 记作 $I_m$

$$I_{3\times 3} = 
\begin{bmatrix}
1 & 0 & 0 \\
0 & 1 & 0 \\
0 & 0 & 1 \\   
 \end{bmatrix}
$$

## 2.4 逆矩阵
* 逆矩阵是指存在一个与该矩阵相乘的矩阵，使得结果为单位矩阵
* 记作 $A^{-1}$
* 若矩阵 A 存在逆矩阵，则 $AA^{-1} = A^{-1}A = I_m$
* $(AB)^{-1} = B^{-1}A^{-1}$

## 2.5 矩阵形式的向量乘法
点乘： $\vec{a} \cdot \vec{b} = \vec{a}^T \vec{b} = \begin{bmatrix}x_a & y_a & z_a\end{bmatrix} \begin{bmatrix}x_b \\ y_b \\ z_b\end{bmatrix} = x_ax_b + y_ay_b + z_az_b$

叉乘： $\vec{a} \times \vec{b} = A^* b = \begin{bmatrix}0&-z_a&y_a\\z_a&0&-x_a\\-y_a&x_a&0\\\end{bmatrix} \begin{bmatrix}x_b\\y_b\\z_b\\\end{bmatrix}$




*******************************************************



# 3. 变换（Transformation）
几何变换
* 几何变换是指对物体的位置、形状、大小进行操作
* 包括平移、旋转、缩放、错切、剪切、透视等

仿射变换
* 仿射变换是指保持二维或三维形状的变换，但不改变位置
* 包括平移、旋转、缩放、错切、剪切、透视等

![变换矩阵](https://raw.githubusercontent.com/Ineloquent0/notes/main/images/20240728163816.jpg)

## 3.1 缩放（Scale）

![等比缩放](https://raw.githubusercontent.com/Ineloquent0/notes/main/images/20240728164155.jpg)

等比缩放：
$$
 \begin{bmatrix} x' \\ y' \end{bmatrix} = 
 \begin{bmatrix} s & 0 \\ 0 & s \end{bmatrix}
 \begin{bmatrix} x \\ y \end{bmatrix}
$$

![任意缩放](https://raw.githubusercontent.com/Ineloquent0/notes/main/images/20240728164727.jpg)

任意缩放：
$$
 \begin{bmatrix} x' \\ y' \end{bmatrix} = 
 \begin{bmatrix} s_x & 0 \\ 0 & s_y \end{bmatrix}
 \begin{bmatrix} x \\ y \end{bmatrix}
$$

### 反射矩阵（Reflection Matrix）

横向翻转：$x' = -x, y' = y$
$$
 \begin{bmatrix} x' \\ y' \end{bmatrix} = 
 \begin{bmatrix} -1 & 0 \\ 0 & 1 \end{bmatrix}
 \begin{bmatrix} x \\ y \end{bmatrix}
$$

### 切变矩阵（Shear Matrix）

![切变矩阵](https://raw.githubusercontent.com/Ineloquent0/notes/main/images/20240728165242.jpg)

错切：$x' = x + a y, y' = y$
$$
 \begin{bmatrix} x' \\ y' \end{bmatrix} = 
 \begin{bmatrix} 1 & a \\ 0 & 1 \end{bmatrix}
 \begin{bmatrix} x \\ y \end{bmatrix}
$$

## 3.2 旋转（Rotation）

![旋转矩阵](https://raw.githubusercontent.com/Ineloquent0/notes/main/images/20240728165552.jpg)

旋转矩阵：
$$
 R_{\theta} = 
 \begin{bmatrix} 
 \cos\theta & -\sin\theta \\ 
 \sin\theta & \cos\theta 
 \end{bmatrix}
$$
推导过程：
![旋转矩阵推导](https://raw.githubusercontent.com/Ineloquent0/notes/main/images/20240728170321.jpg)

## 3.3 线性变换（Linear Transformation）
以上几种都属于线性变换，都可以用以下公式表示：
$$ x' = ax + by $$

$$ y' = cx + dy $$

$$
 \begin{bmatrix} x' \\ y' \end{bmatrix} = 
 \begin{bmatrix} a & b \\ c & d \end{bmatrix}
 \begin{bmatrix} x \\ y \end{bmatrix}
$$

$$ x' = Mx $$

## 3.4 移动（Translation）

![平移矩阵](https://raw.githubusercontent.com/Ineloquent0/notes/main/images/20240728171003.jpg)
$$ x' = x + t_x $$

$$ y' = y + t_y $$

平移变换不属于线性变换
$$
 \begin{bmatrix} x' \\ y' \end{bmatrix} = 
 \begin{bmatrix} a & b \\ c & d \end{bmatrix}
 \begin{bmatrix} x \\ y \end{bmatrix} +
 \begin{bmatrix} t_x \\ t_y \end{bmatrix}
$$

但我们不希望平移变换是一个特殊的变换
所有我们引入了齐次坐标


## 3.5 齐次坐标

添加三个坐标（w坐标）：
2D point = $(x, y, 1)^T$
2D vector = $(x, y, 0)^T$

那么平移矩阵就可以表示为：
$$
 \begin{bmatrix} x' \\ y' \\ w' \end{bmatrix} = 
 \begin{bmatrix} 1 & 0 & t_x \\ 0 & 1 & t_y \\ 0 & 0 & 1 \end{bmatrix}
 \begin{bmatrix} x \\ y \\ 1 \end{bmatrix} = 
 \begin{bmatrix} x + t_x \\ y + t_y \\ 1 \end{bmatrix}
$$

为什么需要区分点和向量呢？

因为向量的w坐标为0，而点的w坐标为1，所以可以用同一个矩阵表示点和向量的变换。
* vector + vector = vector (0 + 0 = 0)
* point - point = vector (1 - 1 = 0)
* point + vector = point (1 + 0 = 1)
* point + point = midpoint（中点）(1 + 1 = 2, 除以2就是两个点的中点)

在齐次坐标中$ \begin{bmatrix} x' \\ y' \\ w' \end{bmatrix} $ 是点(point)
要保持w = 1，只需要将x和y坐标除以w即可：$\begin{bmatrix} x/w \\ y/w \\ 1 \end{bmatrix}$，$ w \neq 0 $

## 3.6 仿射变换（Affine Transformation）

Affine map = linear map + translation

仿射变换 = 线性变换 + 平移
顺序：先线性变换后平移（3D仿射同样）

$$
 \begin{bmatrix} x' \\ y' \end{bmatrix} = 
 \begin{bmatrix} a & b \\ c & d \end{bmatrix}
 \begin{bmatrix} x \\ y \end{bmatrix} +
 \begin{bmatrix} t_x \\ t_y \end{bmatrix}
$$

使用齐次坐标表示：
$$
 \begin{bmatrix} x' \\ y' \\ 1 \end{bmatrix} = 
 \begin{bmatrix} a & b & t_x \\ c & d & t_y \\ 0 & 0 & 1 \end{bmatrix}
 \begin{bmatrix} x \\ y \\ 1 \end{bmatrix} = 
 \begin{bmatrix} a x + b y + t_x \\ c x + d y + t_y \\ 1 \end{bmatrix}
$$


## 3.7 齐次坐标下的2D变换
缩放（Scale）：
$$ S_{(s_x, s_y)} = 
 \begin{bmatrix} s_x & 0 & 0 \\ 0 & s_y & 0 \\ 0 & 0 & 1 \end{bmatrix}
$$

旋转（Rotation）：
$$ R_{\alpha} = 
 \begin{bmatrix} 
 \cos\alpha & -\sin\alpha & 0 \\ 
 \sin\alpha & \cos\alpha & 0 \\ 
 0 & 0 & 1 
 \end{bmatrix}
$$

平移（Translation）：
$$ T_{(t_x, t_y)} = 
 \begin{bmatrix} 1 & 0 & t_x \\ 0 & 1 & t_y \\ 0 & 0 & 1 \end{bmatrix}
$$


## 3.8 逆变换
* 逆变换在数学运算中即为逆矩阵
* $M^{-1}$ 就是矩阵 $M$ 的逆矩阵

## 3.9 复合变换（Composite Transformation）
先平移后旋转

先旋转后平移
=======
![20240728115230](https://raw.githubusercontent.com/Ineloquent0/notes/main/images/20240728115230.jpg)
>>>>>>> 4164cb8be96fca512ef3679efa4dd51abc6a1261
